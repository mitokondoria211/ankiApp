<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">

<body>

    <!-- モーダル -->
    <div class="modal fade" id="challengeModal" tabindex="-1" 
	aria-labelledby="challengeModalLabel" aria-hidden="true"
	th:fragment="challengeModal">
        <div class="modal-dialog modal-lg modal-dialog-scrollable modal-dialog-centered">
            <div class="modal-content">

                <!-- モーダルヘッダー -->
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="howToUseModalLabel">
                        問題挑戦の使い方
                    </h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="閉じる"></button>
                </div>

                <!-- モーダル本体 -->
                <div class="modal-body">

                    <!-- スクリーンショット表示 -->
                    <div class="screenshot-container">
                        <img 
                        th:src="@{/images/challenge.png}"
                            alt="画面のスクリーンショット" />
                        <div style="margin-top: 8px;">
                            <small class="text-muted">↑ 挑戦画面の例</small>
                        </div>
                    </div>

                    <!-- ステップ説明 -->
                    <div class="instruction-card">
                        <div class="instruction-title">
                            ① デッキ選択
                        </div>
                        <div class="instruction-content">
                            一覧から挑戦したいデッキを選び、「挑戦する」ボタンを押します。<br>
                            各デッキには、タイトル・説明・登録カード数（出題数）が表示されます。
                        </div>
                    </div>
                    <div class="instruction-card">
                        <div class="instruction-title">
                            ② 出題条件の設定（デッキ挑戦）
                        </div>
                        <div class="instruction-content">
                            出題するカードの条件を次のように設定できます。
                            <div class="feature-list">
                                <div class="feature-item">• <span class="feature-name">カード評価の選択：</span>
                                    <div class="feature-list">
                                        カードに付けられた評価に応じて出題対象を絞ることができます。
                                        <div class="feature-item">• 「未選択」を選ぶと、すべてのカードが出題対象になります。</div>
                                        <div class="feature-item">• 「未評価」を選ぶと、まだ一度も評価されていないカードのみが出題されます。</div>
                                        <div class="feature-item">• 「正解」を選ぶと、「正解」または「簡単」と評価されたカードが対象になります。</div>
                                        <div class="feature-item">• 「不正解」を選ぶと、「もう一度」「不正解」「難しい」と評価されたカードが対象になります。</div>
                                    </div>
                                </div>
                                <div class="feature-item">• <span class="feature-name">出題数：</span>出題するカードの枚数を入力してください。
                                </div>
                                <div class="feature-item">• <span class="feature-name">説明：</span>デッキの詳細情報</div>
                            </div>
                            設定が完了したら、「挑戦」ボタンを押して問題に進みます。
                        </div>
                    </div>
                    <div class="instruction-card">
                        <div class="instruction-title">
                            ③ 問題に回答・評価
                        </div>
                        <div class="instruction-content">
                            カードに登録された問題が1枚ずつ表示されます。「解答を表示」ボタンを押して答えを確認した後、自分の理解度に応じて以下の評価を選択します：
                            <div class="feature-list">
                                <div class="feature-item">• もう一度</div>
                                <div class="feature-item">• 難しい</div>
                                <div class="feature-item">• 不正解</div>
                                <div class="feature-item">• 正解</div>
                                <div class="feature-item">• 簡単</div>
                            </div>
                        </div>
                        ※画面上部には、前回そのカードに付けた評価も表示されます。
                    </div>
                    
                    <div class="instruction-card tip-section">
                        <div class="tip-title">
                            💡 活用ポイント
                        </div>
                        <div class="instruction-content">
                            <div class="feature-list">
                                <div class="feature-item">• 「未評価」で初めてのカードを練習したり、「不正解」で苦手カードを集中的に復習することができます。</div>
                                <div class="feature-item">• 評価をうまく活用することで、自分に合った学習スタイルを作れます。</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</body>

</html>